"use strict";(self["webpackChunkDTX_MEDI_PLATFORM"]=self["webpackChunkDTX_MEDI_PLATFORM"]||[]).push([[176],{49459:function(t,e,n){n.d(e,{Z:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"popup__wrap",class:{on:"Open"===t.popupEventFlag}},[e("div",{staticClass:"popup__bg"}),e("div",{staticClass:"common__popup box__shadow__02"},[e("div",{staticClass:"popup__top"},[e("h4",[t._v("코드 "+t._s(t.popupState))]),e("button",{staticClass:"pop__close__btn",on:{click:t.popupCloseClick}})]),e("ul",[e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("상위기능")]),e("dd",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.reqFuncInfo.funcHighId,expression:"reqFuncInfo.funcHighId"}],ref:"mainCodeSelector",attrs:{name:"",id:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.reqFuncInfo,"funcHighId",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:""}},[t._v("상위기능 없음")]),t._l(t.funcHighIdList,(function(n){return e("option",{key:n.index,domProps:{value:n.funcId}},[t._v(" "+t._s(n.funcNm)+" ")])}))],2)])])]),e("li",{directives:[{name:"show",rawName:"v-show",value:"수정"===t.popupState,expression:"popupState === '수정'"}]},[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("기능ID")]),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reqFuncInfo.funcId,expression:"reqFuncInfo.funcId"}],staticClass:"custom__input",attrs:{type:"text",disabled:"수정"===t.popupState},domProps:{value:t.reqFuncInfo.funcId},on:{input:function(e){e.target.composing||t.$set(t.reqFuncInfo,"funcId",e.target.value)}}})])])]),e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("기능명")]),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reqFuncInfo.funcNm,expression:"reqFuncInfo.funcNm"}],staticClass:"custom__input",attrs:{type:"text"},domProps:{value:t.reqFuncInfo.funcNm},on:{input:function(e){e.target.composing||t.$set(t.reqFuncInfo,"funcNm",e.target.value)}}})])])]),e("li",{staticClass:"question__input"},[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("설명")]),e("dd",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reqFuncInfo.funcDsc,expression:"reqFuncInfo.funcDsc"}],staticClass:"custom__input",attrs:{name:"",id:""},domProps:{value:t.reqFuncInfo.funcDsc},on:{input:function(e){e.target.composing||t.$set(t.reqFuncInfo,"funcDsc",e.target.value)}}})])])]),e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("사용여부")]),e("dd",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.reqFuncInfo.useYn,expression:"reqFuncInfo.useYn"}],attrs:{name:"",id:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.reqFuncInfo,"useYn",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:""}},[t._v("선택")]),e("option",{attrs:{value:"Y"}},[t._v("사용")]),e("option",{attrs:{value:"N"}},[t._v("미사용")])])])])])]),e("div",{staticClass:"custom__btn__wrap"},[e("button",{staticClass:"custom__btn delete",on:{click:t.removeOrClean}},[t._m(0),e("p",[t._v("삭제")])]),e("button",{staticClass:"custom__btn",on:{click:t.addFunction}},[t._m(1),e("p",[t._v("저장")])])])])])},s=[function(){var t=this,e=t._self._c;return e("span",[e("img",{attrs:{src:n(55483),alt:"저장 아이콘"}})])},function(){var t=this,e=t._self._c;return e("span",[e("img",{attrs:{src:n(99685),alt:"저장 아이콘"}})])}],a=n(43578),u=n(10565),o={props:{popupEventFlag:String,popupState:String,funcHighIdList:Array,selectedObj:[Object,Boolean]},data(){return{reqFuncInfo:{funcId:"",funcNm:"",funcDsc:"",funcHighId:"",useYn:""}}},watch:{popupState(){"수정"===this.popupState?(this.reqFuncInfo=this.selectedObj,"사용"===this.selectedObj.useYn?this.reqFuncInfo.useYn="Y":"미사용"===this.selectedObj.useYn&&(this.reqFuncInfo.useYn="N")):"추가"===this.popupState&&(0,a.ZH)(this.reqFuncInfo)}},methods:{popupCloseClick(){this.$emit("popupClose","Close")},addFunction(){this.validateComCode()&&("development"==this.$env&&console.log(this.reqFuncInfo),"수정"===this.popupState?(0,u.Pf)(this.reqFuncInfo).then((t=>{"OK"===t.data.status&&(this.$toast.success("기능 수정이 완료되었습니다"),this.popupCloseClick(),this.$emit("refreshList"))})).catch((t=>this.$toast.error(t.message))):(0,u.UA)(this.reqFuncInfo).then((t=>{"development"==this.$env&&console.log(t),"OK"===t.data.status&&(this.$toast.success("가능 추가가 완료되었습니다"),this.popupCloseClick(),this.$emit("refreshList"))})).catch((t=>this.$toast.error(t.message))))},validateComCode(){return""===this.reqFuncInfo.funcNm||null===this.reqFuncInfo.funcNm?(this.$toast.error("기능 명을 입력하세요."),!1):""===this.reqFuncInfo.funcDsc||null===this.reqFuncInfo.funcDsc?(this.$toast.error("기능 설명을 입력하세요."),!1):""!==this.reqFuncInfo.useYn&&null!==this.reqFuncInfo.useYn||(this.$toast.error("사용여부를 선택하세요."),!1)},removeOrClean(){"수정"===this.popupState?(0,u.Uc)(this.reqFuncInfo.funcId).then((t=>{"development"==this.$env&&console.log(t),"OK"===t.data.status&&(this.$toast.success("기능이 삭제되었습니다"),this.popupCloseClick(),this.$emit("refreshList"))})).catch((t=>this.$toast.error(t.message))):"추가"===this.popupState&&this.clear()},clear(){(0,a.ZH)(this.reqFuncInfo)}}},r=o,c=n(1001),l=(0,c.Z)(r,i,s,!1,null,null,null),p=l.exports},53176:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("main",{staticClass:"function__management__main"},[e("FunctionPopup",{attrs:{popupEventFlag:t.popupEventFlag,popupState:t.popupState,selectedObj:t.selectedRowObj,funcHighIdList:t.allFunctionList},on:{popupClose:t.popupToggle,refreshList:t.getFunctions}}),e("section",{staticClass:"box__shadow__01 vertical__scroll grid__wrap"},[e("h3",{staticClass:"page__title"},[t._v(" "+t._s(this.$store.state.pageInfo["기능 관리"].title)+" ")]),e("h5",{staticClass:"page__sub__title f__regular"},[t._v(" "+t._s(this.$store.state.pageInfo["기능 관리"].subTitle)+" ")]),e("div",{staticClass:"add__or__search__wrap"},[e("ul",[e("li",[e("dl",[e("dt",[t._v("상위기능")]),e("dd",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.funcHighIdFilter,expression:"funcHighIdFilter"}],attrs:{name:"",id:""},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.funcHighIdFilter=e.target.multiple?n:n[0]},t.gridDataFiltering]}},[e("option",{attrs:{value:""}},[t._v("전체")]),t._l(t.allFunctionList,(function(n){return e("option",{key:n.index,domProps:{value:n.funcId}},[t._v(" "+t._s(n.funcNm)+" ")])}))],2)])])]),e("li",[e("dl",[e("dt",[t._v("사용여부")]),e("dd",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.useYnFilter,expression:"useYnFilter"}],ref:"useYnSelector",attrs:{name:"",id:""},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.useYnFilter=e.target.multiple?n:n[0]},t.gridDataFiltering]}},[e("option",{attrs:{value:""}},[t._v("전체")]),e("option",{attrs:{value:"사용"}},[t._v("사용")]),e("option",{attrs:{value:"미사용"}},[t._v("미사용")])])])])])]),t._e()]),e("div",{staticClass:"grid__wrap",on:{click:function(e){return t.rowClick(e)}}},[e("Grid",{ref:"gridEl",staticClass:"on",attrs:{cols:t.cols,pagination:!0,sort:!0,rows:t.filteredGridData}})],1)])],1)},s=[function(){var t=this,e=t._self._c;return e("span",[e("img",{attrs:{src:n(69067),alt:"추가 아이콘"}})])}],a=n(28861),u=n(49459),o=n(10565),r={data(){return{popupEventFlag:"Close",cols:[{name:"번호",id:"index"},{name:"상위기능",id:"funcHighNm"},{name:"기능명",id:"funcNm"},{name:"기능ID",id:"funcId"},{name:"상태",id:"useYn"},{name:"등록자명",id:"registerName"},{name:"변경일시",id:"updateDate"}],functionList:[],allFunctionList:[],funcHighIdFilter:"",useYnFilter:"사용",selectedRowObj:"",popupState:"",filteredGridDataBack:[],filteredGridData:[]}},methods:{popupToggle(t){"추가"===t&&(this.selectedRowObj=!1),this.popupState=t,"Close"===this.popupEventFlag?this.popupEventFlag="Open":this.popupEventFlag="Close"},rowClick(t){let e=!0;if(e)return;const n=Number(t.path[1].childNodes[0].textContent),i=t.path[0].getAttribute("data-column-id");"funcId"===i&&this.popupToggle("수정"),this.selectedRowObj={...this.functionList[n-1]}},getFunctions(){(0,o.lf)().then((t=>{this.functionList=t.data.response.data,this.functionList.forEach((function(t,e){t.index=e+1,"Y"===t.useYn?t.useYn="사용":t.useYn="미사용"})),this.allFunctionList=this.functionList,this.filteredGridDataBack=this.functionList,""===this.funcHighIdFilter&&"사용"===this.useYnFilter?(this.filteredGridData=this.functionList,this.filteredGridData=this.filteredGridData.filter((t=>"사용"===t.useYn.trim()))):this.gridDataFiltering()}))},searchFunctions(){let t="";""!==this.funcHighIdFilter&&(t+="funcHighId="+this.funcHighIdFilter),""!==this.useYnFilter&&(t+="&useYn="+this.useYnFilter),(0,o.lf)(t).then((t=>{this.functionList=t.data.response.data,this.functionList.forEach((function(t,e){t.index=e+1,"Y"===t.useYn?t.useYn="사용":t.useYn="미사용"}))}))},gridDataFiltering(){this.filteredGridData=this.filteredGridDataBack,""!==this.funcHighIdFilter&&(this.filteredGridData=this.filteredGridData.filter((t=>t.funcHighId.trim()===this.funcHighIdFilter))),""!==this.useYnFilter&&(this.filteredGridData=this.filteredGridData.filter((t=>t.useYn.trim()===this.useYnFilter)))}},components:{Grid:a.rj,FunctionPopup:u.Z},computed:{getFunctionList(){return this.functionList}},created(){this.getFunctions()}},c=r,l=n(1001),p=(0,l.Z)(c,i,s,!1,null,null,null),d=p.exports},10565:function(t,e,n){n.d(e,{Pf:function(){return u},UA:function(){return a},Uc:function(){return o},lf:function(){return s}});var i=n(18701);function s(t){return t?(0,i.U2)(`/functions?${t}`):(0,i.U2)("/functions")}function a(t){return(0,i.Ue)("/functions",t)}function u(t){return(0,i.Vx)(`/functions/${t.funcId}`,t)}function o(t){return(0,i.Od)(`/functions/${t}`)}},69067:function(t,e,n){t.exports=n.p+"img/ic-plus.699e4fe1.svg"},55483:function(t,e,n){t.exports=n.p+"img/ic-remove.adf1b0c3.svg"}}]);
//# sourceMappingURL=176.ef4d5888.js.map
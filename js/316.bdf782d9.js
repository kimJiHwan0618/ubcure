"use strict";(self["webpackChunkDTX_MEDI_PLATFORM"]=self["webpackChunkDTX_MEDI_PLATFORM"]||[]).push([[316],{23316:function(e,t,a){a.r(t),a.d(t,{default:function(){return I}});var r=function(){var e=this,t=e._self._c;return t("main",{staticClass:"remedy__management__main"},[t("RemedyGrid",{attrs:{treatmentFilterName:e.treatmentFilter}})],1)},s=[],i=function(){var e=this,t=e._self._c;return t("section",{staticClass:"grid__wrap box__shadow__01 vertical__scroll"},[t("h3",{staticClass:"page__title"},[e._v(" "+e._s(this.$store.state.pageInfo["치료제 조회"].title)+" ")]),t("h5",{staticClass:"page__sub__title f__regular"},[e._v(" "+e._s(this.$store.state.pageInfo["치료제 조회"].subTitle)+" ")]),t("div",{staticClass:"grid__button__wrap"},[t("div",{staticClass:"search__wrap"},[t("dl",[t("dt",[t("select",{directives:[{name:"model",rawName:"v-model",value:e.subjectIdFilter,expression:"subjectIdFilter"}],ref:"subjectSelector",attrs:{name:"",id:""},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.subjectIdFilter=t.target.multiple?a:a[0]},e.changeCategoryBySubject]}},e._l(e.treatmentSubjectList,(function(a){return t("option",{key:a.index,domProps:{value:a.codeId}},[e._v(" "+e._s(a.codeName)+" ")])})),0),t("select",{directives:[{name:"model",rawName:"v-model",value:e.categoryIdFilter,expression:"categoryIdFilter"}],ref:"categorySelector",attrs:{name:"",id:""},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.categoryIdFilter=t.target.multiple?a:a[0]},e.gridDataFiltering]}},[t("option",{attrs:{value:""}},[e._v("카테고리 전체")]),e._l(e.treatmentCategoryList,(function(a){return t("option",{key:a.index,domProps:{value:a.codeId}},[e._v(" "+e._s(a.codeName)+" ")])}))],2)]),t("dd",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.treatmentNameFilter,expression:"treatmentNameFilter"}],ref:"treatmentNameInput",staticClass:"custom__input",attrs:{type:"text"},domProps:{value:e.treatmentNameFilter},on:{input:function(t){t.target.composing||(e.treatmentNameFilter=t.target.value)}}})])]),t("button",{staticClass:"custom__btn",on:{click:e.gridDataFiltering}},[e._m(0),t("p",[e._v("검색")])])]),t("button",{staticClass:"custom__btn",on:{click:e.AddTreatmentBtnClick}},[e._m(1),t("p",[e._v("치료제 추가")])])]),t("div",{staticClass:"grid__wrap",on:{click:function(t){return e.rowClick(t)}}},[t("Grid",{ref:"gridEl",staticClass:"on",attrs:{cols:e.cols,pagination:!0,sort:!0,rows:e.filteredGridData}})],1)])},n=[function(){var e=this,t=e._self._c;return t("span",[t("img",{attrs:{src:a(39615),alt:"검색 아이콘"}})])},function(){var e=this,t=e._self._c;return t("span",[t("img",{attrs:{src:a(69067),alt:"플러스 아이콘"}})])}],d=(a(57658),a(12481)),o=JSON.parse('{"N":[{"codeName":"알콜중독 치료","codeId":"APP001","useYn":"Y","registerId":"SYSTEM","registerName":"시스템 관리자","createDate":"2022-03-21 11:01:30","updateId":"SYSTEM","updaterName":"시스템 관리자","updateDate":"2022-06-27 16:29:56","codeDesc":"UbiplusAStop","mainCommCode":"APP_DIV"}]}'),c=JSON.parse('{"N":[{"codeName":"동기면담","codeId":"TACA001","useYn":"Y","registerId":"jk","registerName":"제이케이","createDate":"2022-06-27 18:04:46","updateId":"jk","updaterName":"제이케이","updateDate":"2022-06-27 18:04:46","codeDesc":"A-Stop 치료제 카테고리","mainCommCode":"TACA"},{"codeName":"질환교육","codeId":"TACA002","useYn":"Y","registerId":"jk","registerName":"제이케이","createDate":"2022-06-27 18:05:31","updateId":"jk","updaterName":"제이케이","updateDate":"2022-06-27 23:53:31","codeDesc":"A-Stop 치료제 카테고리","mainCommCode":"TACA"},{"codeName":"기능분석","codeId":"TACA003","useYn":"Y","registerId":"jk","registerName":"제이케이","createDate":"2022-06-27 18:05:53","updateId":"jk","updaterName":"제이케이","updateDate":"2022-06-27 18:05:53","codeDesc":"A-Stop 치료제 카테고리","mainCommCode":"TACA"},{"codeName":"목표설정","codeId":"TACA004","useYn":"Y","registerId":"jk","registerName":"제이케이","createDate":"2022-06-27 18:06:12","updateId":"jk","updaterName":"제이케이","updateDate":"2022-06-27 18:06:12","codeDesc":"A-Stop 치료제 카테고리","mainCommCode":"TACA"},{"codeName":"행동활성화","codeId":"TACA005","useYn":"Y","registerId":"jk","registerName":"제이케이","createDate":"2022-06-27 18:06:29","updateId":"jk","updaterName":"제이케이","updateDate":"2022-06-27 18:06:29","codeDesc":"A-Stop 치료제 카테고리","mainCommCode":"TACA"},{"codeName":"인지치료","codeId":"TACA006","useYn":"Y","registerId":"jk","registerName":"제이케이","createDate":"2022-06-27 18:06:47","updateId":"jk","updaterName":"제이케이","updateDate":"2022-06-27 18:06:47","codeDesc":"A-Stop 치료제 카테고리","mainCommCode":"TACA"},{"codeName":"동기강화부스터","codeId":"TACA007","useYn":"Y","registerId":"jk","registerName":"제이케이","createDate":"2022-06-27 18:07:09","updateId":"jk","updaterName":"제이케이","updateDate":"2022-06-27 18:07:09","codeDesc":"A-Stop 치료제 카테고리","mainCommCode":"TACA"}]}'),m=a(28861),l={components:{Grid:m.rj},data(){return{filteredGridDataBack:[],filteredGridData:[],selectedState:"",subjectIdFilter:"",categoryIdFilter:"",treatmentNameFilter:"",cols:[{name:"번호",id:"index",hidden:!0},{name:"과목",id:"subjectName"},{name:"제목",id:"name"},{name:"카테고리",id:"categoryName"},{name:"상태",id:"useYn"},{name:"등록자명",id:"registerName"},{name:"등록일시",id:"createDate"},{name:"변경일시",id:"updateDate"},{name:"수정",formatter:(e,t)=>this.$gridjs.h("button",{className:"update_button",onClick:()=>{const e=t.cells[0].data,a=this.treatmentList[e-1];this.$router.push({name:"AddTreatment",query:{id:a.id}})}},"update")},{name:"삭제",formatter:(e,t)=>this.$gridjs.h("button",{className:"delete_button",onClick:()=>{const e=t.cells[0].data,a=this.treatmentList[e-1];this.removeTreatment(a.id)}},"delete")}],treatmentList:[],treatmentSubjectList:[],treatmentCategoryList:[],aStopTreatmentCategoryList:[],mStrongTreatmentCategoryList:[]}},computed:{getTreatmentList(){return this.treatmentList},treatmentManagement(){return this.$store.state.treatmentManagement}},mounted(){this.getAStopTreatmentCategoryList(),this.getTreatments(),this.getTreatmentSubjectList()},methods:{getTreatments(){let e=0;this.treatmentList=[],d.forEach((t=>{"APP001"===t.subjectId&&(t.index=++e,this.treatmentList.push(t))})),this.filteredGridDataBack=this.treatmentList,this.filteredGridData=this.treatmentList},removeTreatment(){this.$confirm({title:"",message:"정말로 삭제 하시겠습니까?",button:{no:"아니오",yes:"네"},callback:e=>{}})},rowClick(e){const t=e.srcElement.parentNode;switch(this.selectedState=e.srcElement.dataset.columnId,this.selectedState){case"체크":e.path[0].classList.toggle("on"),e.path[0].parentNode.classList.toggle("on");break;case"수정":this.$router.push({name:"AddTreatment",query:{subject:t.childNodes[1].textContent,title:t.childNodes[2].textContent,category:t.childNodes[3].textContent,type:t.childNodes[4].textContent}});break;case"삭제":"development"==this.$env&&console.log("삭제");break}},AddTreatmentBtnClick(){this.$router.push("/remedyManagement/remedyInquiry/addRemedy")},gridDataFiltering(){this.subjectIdFilter=this.subjectIdFilter.trim(),this.categoryIdFilter=this.categoryIdFilter.trim(),this.treatmentNameFilter=this.treatmentNameFilter.trim();const e=`subjectId=${this.subjectIdFilter}&category=${this.categoryIdFilter}&name=${this.treatmentNameFilter}`;this.getTreatments(e),this.gridSizeCheck()},gridSizeCheck(){this.filteredGridData.length>0?this.$refs.gridEl.$el.classList.add("on"):this.$refs.gridEl.$el.classList.remove("on")},getTreatmentSubjectList(){this.treatmentSubjectList.push(o.N[0]),this.subjectIdFilter=o.N[0].codeId,this.changeCategoryBySubject()},getAStopTreatmentCategoryList(){this.aStopTreatmentCategoryList=c.N},getMStrongTreatmentCategoryList(){},changeCategoryBySubject(){this.categoryIdFilter="","APP001"==this.subjectIdFilter?this.treatmentCategoryList=this.aStopTreatmentCategoryList:"APP002"==this.subjectIdFilter?this.treatmentCategoryList=this.mStrongTreatmentCategoryList:this.treatmentCategoryList=[],this.gridDataFiltering()}}},u=l,g=a(1001),p=(0,g.Z)(u,i,n,!1,null,null,null),h=p.exports,C={components:{RemedyGrid:h},computed:{treatmentManagement(){return this.$store.state.treatmentManagement}},data(){return{treeData:[{text:"치료제 전체",state:{selectable:!0,selected:!0},children:[]}],treatmentFilter:""}}},_=C,N=(0,g.Z)(_,r,s,!1,null,null,null),I=N.exports},69067:function(e,t,a){e.exports=a.p+"img/ic-plus.699e4fe1.svg"}}]);
//# sourceMappingURL=316.bdf782d9.js.map
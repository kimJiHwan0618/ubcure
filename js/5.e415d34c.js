"use strict";(self["webpackChunkDTX_MEDI_PLATFORM"]=self["webpackChunkDTX_MEDI_PLATFORM"]||[]).push([[5],{90005:function(t,e,r){r.r(e),r.d(e,{default:function(){return h}});var n=function(){var t=this,e=t._self._c;return e("main",{staticClass:"agency__management__main"},[e("AgencyPopup",{attrs:{popupEventFlag:t.popupEventFlag,popupState:t.popupState,selectedObj:t.selectedRowObj},on:{popupClose:t.popupToggle,refreshList:t.getOrgns}}),e("section",{staticClass:"box__shadow__01 vertical__scroll grid__wrap"},[e("h3",{staticClass:"page__title"},[t._v(" "+t._s(this.$store.state.pageInfo["기관 관리"].title)+" ")]),e("h5",{staticClass:"page__sub__title f__regular"},[t._v(" "+t._s(this.$store.state.pageInfo["기관 관리"].subTitle)+" ")]),e("div",{staticClass:"add__or__search__wrap"},[e("ul",[e("li",[e("dl",[e("dt",[t._v("사용여부")]),e("dd",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.useYnFilter,expression:"useYnFilter"}],ref:"useYnSelector",attrs:{name:"",id:""},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.useYnFilter=e.target.multiple?r:r[0]},t.gridDataFiltering]}},[e("option",{attrs:{value:""}},[t._v("전체")]),e("option",{attrs:{value:"사용"}},[t._v("사용")]),e("option",{attrs:{value:"미사용"}},[t._v("미사용")])])])])]),e("li",[e("dl",[e("dt",[t._v("기관")]),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.orgnNameFilter,expression:"orgnNameFilter"}],staticClass:"custom__input",attrs:{type:"text",placeholder:"이름을 입력하세요"},domProps:{value:t.orgnNameFilter},on:{input:function(e){e.target.composing||(t.orgnNameFilter=e.target.value)}}})])])]),e("li",[e("button",{staticClass:"custom__btn",on:{click:t.gridDataFiltering}},[t._m(0),e("p",[t._v("검색")])])])]),e("button",{staticClass:"custom__btn",on:{click:function(e){return t.popupToggle("추가")}}},[t._m(1),e("p",[t._v("추가")])])]),e("div",{staticClass:"grid__wrap",on:{click:function(e){return t.rowClick(e)}}},[e("Grid",{ref:"gridEl",staticClass:"on",attrs:{cols:t.cols,pagination:!0,sort:!0,rows:t.filteredGridData}})],1)])],1)},s=[function(){var t=this,e=t._self._c;return e("span",[e("img",{attrs:{src:r(39615),alt:"검색 아이콘"}})])},function(){var t=this,e=t._self._c;return e("span",[e("img",{attrs:{src:r(69067),alt:"추가 아이콘"}})])}],o=(r(57658),r(28861)),a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"popup__wrap",class:{on:"Open"===t.popupEventFlag}},[e("div",{staticClass:"popup__bg"}),e("div",{staticClass:"common__popup box__shadow__02"},[e("div",{staticClass:"popup__top"},[e("h4",[t._v("기관 "+t._s(t.popupState))]),e("button",{staticClass:"pop__close__btn",on:{click:t.popupCloseClick}})]),e("ul",{staticClass:"vertical__scroll"},[e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("기관 아이디")]),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reqOrgnInfo.orgnId,expression:"reqOrgnInfo.orgnId"}],staticClass:"custom__input",attrs:{type:"text",disabled:"수정"===t.popupState},domProps:{value:t.reqOrgnInfo.orgnId},on:{input:function(e){e.target.composing||t.$set(t.reqOrgnInfo,"orgnId",e.target.value)}}})])])]),e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("기관명")]),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reqOrgnInfo.orgnNm,expression:"reqOrgnInfo.orgnNm"}],staticClass:"custom__input",attrs:{type:"text"},domProps:{value:t.reqOrgnInfo.orgnNm},on:{input:function(e){e.target.composing||t.$set(t.reqOrgnInfo,"orgnNm",e.target.value)}}})])])]),e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("대표자명")]),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reqOrgnInfo.ceoNm,expression:"reqOrgnInfo.ceoNm"}],staticClass:"custom__input",attrs:{type:"text"},domProps:{value:t.reqOrgnInfo.ceoNm},on:{input:function(e){e.target.composing||t.$set(t.reqOrgnInfo,"ceoNm",e.target.value)}}})])])]),e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("사업자등록번호")]),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reqOrgnInfo.regNumber,expression:"reqOrgnInfo.regNumber"}],staticClass:"custom__input",attrs:{type:"phone"},domProps:{value:t.reqOrgnInfo.regNumber},on:{input:function(e){e.target.composing||t.$set(t.reqOrgnInfo,"regNumber",e.target.value)}}})])])]),e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("전화번호")]),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reqOrgnInfo.orgnNumber,expression:"reqOrgnInfo.orgnNumber"}],staticClass:"custom__input",attrs:{type:"tel"},domProps:{value:t.reqOrgnInfo.orgnNumber},on:{input:function(e){e.target.composing||t.$set(t.reqOrgnInfo,"orgnNumber",e.target.value)}}})])])]),e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("FAX")]),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reqOrgnInfo.orgnFaxNo,expression:"reqOrgnInfo.orgnFaxNo"}],staticClass:"custom__input",attrs:{type:"tel"},domProps:{value:t.reqOrgnInfo.orgnFaxNo},on:{input:function(e){e.target.composing||t.$set(t.reqOrgnInfo,"orgnFaxNo",e.target.value)}}})])])]),e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("담당자명")]),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reqOrgnInfo.managerName,expression:"reqOrgnInfo.managerName"}],staticClass:"custom__input",attrs:{type:"text"},domProps:{value:t.reqOrgnInfo.managerName},on:{input:function(e){e.target.composing||t.$set(t.reqOrgnInfo,"managerName",e.target.value)}}})])])]),e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("Email")]),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reqOrgnInfo.managerEmail,expression:"reqOrgnInfo.managerEmail"}],staticClass:"custom__input",attrs:{type:"email"},domProps:{value:t.reqOrgnInfo.managerEmail},on:{input:function(e){e.target.composing||t.$set(t.reqOrgnInfo,"managerEmail",e.target.value)}}})])])]),e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("우편번호")]),e("dd",{staticClass:"zip__code__line"},[e("ul",[e("li",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reqOrgnInfo.zipCode,expression:"reqOrgnInfo.zipCode"}],ref:"zipCodeInput",staticClass:"custom__input read__only",attrs:{type:"text",readonly:""},domProps:{value:t.reqOrgnInfo.zipCode},on:{input:function(e){e.target.composing||t.$set(t.reqOrgnInfo,"zipCode",e.target.value)}}})]),e("li",[e("button",{staticClass:"custom__btn",on:{click:t.zipcodeSearch}},[t._m(0),e("p",[t._v("찾기")])])])])])])]),e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("주소")]),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reqOrgnInfo.address,expression:"reqOrgnInfo.address"}],ref:"addressInput",staticClass:"custom__input read__only",attrs:{type:"text"},domProps:{value:t.reqOrgnInfo.address},on:{input:function(e){e.target.composing||t.$set(t.reqOrgnInfo,"address",e.target.value)}}})])])]),e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("상세주소")]),e("dd",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reqOrgnInfo.addressDtl,expression:"reqOrgnInfo.addressDtl"}],staticClass:"custom__input",attrs:{type:"text"},domProps:{value:t.reqOrgnInfo.addressDtl},on:{input:function(e){e.target.composing||t.$set(t.reqOrgnInfo,"addressDtl",e.target.value)}}})])])]),e("li",[e("dl",[e("dt",{staticClass:"f__medium"},[t._v("사용여부")]),e("dd",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.reqOrgnInfo.useYn,expression:"reqOrgnInfo.useYn"}],ref:"useYnSelector",attrs:{name:"",id:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.reqOrgnInfo,"useYn",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:""}},[t._v("선택")]),e("option",{attrs:{value:"Y"}},[t._v("사용")]),e("option",{attrs:{value:"N"}},[t._v("미사용")])])])])])]),e("div",{staticClass:"custom__btn__wrap"},[e("button",{staticClass:"custom__btn delete",on:{click:t.removeOrClean}},[t._m(1),e("p",[t._v("삭제")])]),e("button",{staticClass:"custom__btn",on:{click:t.addOrgn}},[t._m(2),e("p",[t._v("저장")])])])])])},i=[function(){var t=this,e=t._self._c;return e("span",[e("img",{attrs:{src:r(39615),alt:"저장 아이콘"}})])},function(){var t=this,e=t._self._c;return e("span",[e("img",{attrs:{src:r(55483),alt:"저장 아이콘"}})])},function(){var t=this,e=t._self._c;return e("span",[e("img",{attrs:{src:r(99685),alt:"저장 아이콘"}})])}],l=r(75532),u=r(43578),d={props:{popupEventFlag:String,popupState:String,selectedObj:[Object,Boolean]},watch:{popupState(){"수정"===this.popupState?(this.reqOrgnInfo=this.selectedObj,"사용"===this.selectedObj.useYn?this.reqOrgnInfo.useYn="Y":"미사용"===this.selectedObj.useYn&&(this.reqOrgnInfo.useYn="N")):"추가"===this.popupState&&(this.reqOrgnInfo={})}},data(){return{reqOrgnInfo:{address:"",addressDtl:"",ceoNm:"",managerEmail:"",managerName:"",orgnFaxNo:"",orgnId:"",orgnNm:"",orgnNumber:"",regNumber:"",useYn:"",zipCode:""}}},methods:{popupCloseClick(){this.$emit("popupClose","Close")},zipcodeSearch(){const t=this.reqOrgnInfo;new window.daum.Postcode({oncomplete:function(e){t.zipCode=e.zonecode,t.address=e.address}}).open()},addOrgn(){this.validateOrgn()&&("development"==this.$env&&console.log(this.reqOrgnInfo),"수정"===this.popupState?(0,l._X)(this.reqOrgnInfo).then((t=>{"OK"===t.data.status&&(this.$toast.success("기관정보 수정이 완료되었습니다"),this.popupCloseClick(),this.$emit("refreshList"))})).catch((t=>this.$toast.error(t.message))):(0,l.Qk)(this.reqOrgnInfo).then((t=>{"development"==this.$env&&console.log(t),"OK"===t.data.status&&(this.$toast.success("기관정보 추가가 완료되었습니다"),this.popupCloseClick(),this.$emit("refreshList"))})).catch((t=>this.$toast.error(t.message))))},validateOrgn(){return""===this.reqOrgnInfo.orgnId||null===this.reqOrgnInfo.orgnId?(this.$toast.error("기관 아이다를 선택하세요."),!1):""===this.reqOrgnInfo.orgnNm||null===this.reqOrgnInfo.orgnNm?(this.$toast.error("기관 명을 입력하세요."),!1):""===this.reqOrgnInfo.ceoNm||null===this.reqOrgnInfo.ceoNm?(this.$toast.error("대표자 명을 입력하세요."),!1):""===this.reqOrgnInfo.regNumber||null===this.reqOrgnInfo.regNumber?(this.$toast.error("사업자등록번호를 입력하세요."),!1):""===this.reqOrgnInfo.orgnNumber||null===this.reqOrgnInfo.orgnNumber?(this.$toast.error("전화번호를 입력하세요."),!1):""===this.reqOrgnInfo.orgnFaxNo||null===this.reqOrgnInfo.orgnFaxNo?(this.$toast.error("FAX번호를 입력하세요."),!1):""===this.reqOrgnInfo.managerName||null===this.reqOrgnInfo.managerName?(this.$toast.error("담당자 명을 입력하세요."),!1):""===this.reqOrgnInfo.managerEmail||null===this.reqOrgnInfo.managerEmail?(this.$toast.error("Email를 입력하세요."),!1):""!==this.reqOrgnInfo.useYn&&null!==this.reqOrgnInfo.useYn||(this.$toast.error("사용여부를 입력하세요."),!1)},removeOrClean(){"수정"===this.popupState?(0,l.iT)(this.reqOrgnInfo.orgnId).then((t=>{"development"==this.$env&&console.log(t),"OK"===t.data.status&&(this.$toast.success("기관정보가 삭제되었습니다"),this.popupCloseClick(),this.$emit("refreshList"))})).catch((t=>this.$toast.error(t.message))):"추가"===this.popupState&&(0,u.ZH)(this.reqOrgnInfo)}}},p=d,g=r(1001),m=(0,g.Z)(p,a,i,!1,null,null,null),c=m.exports,f={components:{Grid:o.rj,AgencyPopup:c},data(){return{popupEventFlag:"Close",cols:[{name:"번호",id:"index"},{name:"기관명",id:"orgnNm"},{name:"대표자",id:"ceoNm"},{name:"등록번호",id:"regNumber"},{name:"대표전화",id:"orgnNumber"},{name:"담당자명",id:"managerName"},{name:"Email",id:"managerEmail"},{name:"팩스번호",id:"orgnFaxNo"},{name:"등록자",id:"regNm"},{name:"사용여부",id:"useYn"},{name:"등록일시",id:"regDttm"}],orgnList:[],useYnFilter:"사용",orgnNameFilter:"",selectedRowObj:"",popupState:"",filteredGridDataBack:[],filteredGridData:[]}},created(){this.getOrgns()},methods:{popupToggle(t){"추가"===t&&(this.selectedRowObj=!1),this.popupState=t,"Close"===this.popupEventFlag?this.popupEventFlag="Open":this.popupEventFlag="Close"},rowClick(t){const e=Number(t.path[1].childNodes[0].textContent),r=t.path[0].getAttribute("data-column-id");"orgnNm"===r&&this.popupToggle("수정"),this.selectedRowObj={...this.getOrgnList[e-1]}},getOrgns(){(0,l.LZ)().then((t=>{this.orgnList=t.data.response.data,this.orgnList.forEach((function(t,e){t.index=e+1,"Y"===t.useYn?t.useYn="사용":t.useYn="미사용"})),this.filteredGridDataBack=this.orgnList,""===this.orgnNameFilter&&"사용"===this.useYnFilter?(this.filteredGridData=this.orgnList,this.filteredGridData=this.filteredGridData.filter((t=>"사용"===t.useYn.trim()))):this.gridDataFiltering()}))},gridDataFiltering(){if(this.filteredGridData=this.filteredGridDataBack,""!==this.useYnFilter&&(this.filteredGridData=this.filteredGridData.filter((t=>t.useYn.trim()===this.useYnFilter))),this.filteredGridData.length>0){const t=[];this.filteredGridData.forEach((e=>{e.orgnNm.includes(this.orgnNameFilter)&&t.push(e)})),this.filteredGridData=t}}},computed:{getOrgnList(){return this.orgnList}}},_=f,v=(0,g.Z)(_,n,s,!1,null,null,null),h=v.exports},75532:function(t,e,r){r.d(e,{LZ:function(){return s},Qk:function(){return o},_X:function(){return a},iT:function(){return i}});var n=r(18701);function s(t){return t?(0,n.U2)(`/orgns?orgnName=${t.orgnName}&useYn=${t.useYn}`):(0,n.U2)("/orgns")}function o(t){return(0,n.Ue)("/orgns",t)}function a(t){return(0,n.Vx)(`/orgns/${t.orgnId}`,t)}function i(t){return(0,n.Od)(`/orgns/${t}`)}},69067:function(t,e,r){t.exports=r.p+"img/ic-plus.699e4fe1.svg"},55483:function(t,e,r){t.exports=r.p+"img/ic-remove.adf1b0c3.svg"},39615:function(t,e,r){t.exports=r.p+"img/ic-search.05d88541.svg"}}]);
//# sourceMappingURL=5.e415d34c.js.map